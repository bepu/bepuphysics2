<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Struct SimulationRayBatcher&lt;TRayHitHandler&gt; | Bepu API </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Struct SimulationRayBatcher&lt;TRayHitHandler&gt; | Bepu API ">
      
      <meta name="description" content="Tests batches of rays against the simulation.">
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/bepu/bepuphysics2/new/master/apiSpec/new?filename=BepuPhysics_CollisionDetection_SimulationRayBatcher_1.md&amp;value=---%0Auid%3A%20BepuPhysics.CollisionDetection.SimulationRayBatcher%601%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/bepuphysicslogo256.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1">



  <h1 id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1" class="text-break">
Struct SimulationRayBatcher&lt;TRayHitHandler&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/bepu/bepuphysics2/blob/updocs/BepuPhysics/CollisionDetection/RayBatchers.cs/#L114"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="BepuPhysics.html">BepuPhysics</a>.<a class="xref" href="BepuPhysics.CollisionDetection.html">CollisionDetection</a></dd></dl>
  <dl><dt>Assembly</dt><dd>BepuPhysics.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Tests batches of rays against the simulation.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public struct SimulationRayBatcher&lt;TRayHitHandler&gt; : IDisposable where TRayHitHandler : struct, IRayHitHandler</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TRayHitHandler</code></dt>
    <dd><p>Type used to handle hits against objects in the simulation.</p>
</dd>
  </dl>


  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.equals">ValueType.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.gethashcode">ValueType.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.tostring">ValueType.ToString()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
  </dd></dl>






  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1__ctor_" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.#ctor*"></a>

  <h3 id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1__ctor_BepuUtilities_Memory_BufferPool_BepuPhysics_Simulation__0_System_Int32_" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.#ctor(BepuUtilities.Memory.BufferPool,BepuPhysics.Simulation,`0,System.Int32)">
  SimulationRayBatcher(BufferPool, Simulation, TRayHitHandler, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/bepu/bepuphysics2/blob/updocs/BepuPhysics/CollisionDetection/RayBatchers.cs/#L166"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public SimulationRayBatcher(BufferPool pool, Simulation simulation, TRayHitHandler hitHandler, int batcherRayCapacity = 2048)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>pool</code> <span class="xref">BufferPool</span></dt>
    <dd></dd>
    <dt><code>simulation</code> <a class="xref" href="BepuPhysics.Simulation.html">Simulation</a></dt>
    <dd></dd>
    <dt><code>hitHandler</code> <span class="xref">TRayHitHandler</span></dt>
    <dd></dd>
    <dt><code>batcherRayCapacity</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>












  <h2 class="section" id="methods">Methods
</h2>


  <a id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1_Add_" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.Add*"></a>

  <h3 id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1_Add_System_Numerics_Vector3__System_Numerics_Vector3__System_Single_System_Int32_" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.Add(System.Numerics.Vector3@,System.Numerics.Vector3@,System.Single,System.Int32)">
  Add(ref Vector3, ref Vector3, float, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/bepu/bepuphysics2/blob/updocs/BepuPhysics/CollisionDetection/RayBatchers.cs/#L182"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Adds a ray to the batcher to test against the simulation.
If the underlying ray batcher hits its maximum capacity, all the accumulated rays will be tested against the simulation and the accumulator will be reset.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Add(ref Vector3 origin, ref Vector3 direction, float maximumT, int id = 0)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>origin</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector3">Vector3</a></dt>
    <dd><p>Origin of the ray to test against the simulation.</p>
</dd>
    <dt><code>direction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.numerics.vector3">Vector3</a></dt>
    <dd><p>Direction of the ray to test against the simulation.</p>
</dd>
    <dt><code>maximumT</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.single">float</a></dt>
    <dd><p>Maximum distance that the ray will travel in units of the ray's length.</p>
</dd>
    <dt><code>id</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Identifier value for the ray. Callbacks will have access to the id.</p>
</dd>
  </dl>












  <a id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1_Dispose_" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.Dispose*"></a>

  <h3 id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1_Dispose" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.Dispose">
  Dispose()
  <a class="header-action link-secondary" title="View source" href="https://github.com/bepu/bepuphysics2/blob/updocs/BepuPhysics/CollisionDetection/RayBatchers.cs/#L197"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>













  <a id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1_Flush_" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.Flush*"></a>

  <h3 id="BepuPhysics_CollisionDetection_SimulationRayBatcher_1_Flush" data-uid="BepuPhysics.CollisionDetection.SimulationRayBatcher`1.Flush">
  Flush()
  <a class="header-action link-secondary" title="View source" href="https://github.com/bepu/bepuphysics2/blob/updocs/BepuPhysics/CollisionDetection/RayBatchers.cs/#L191"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Tests any accumulated rays against the broad phase trees and then resets the batcher.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Flush()</code></pre>
  </div>














</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/bepu/bepuphysics2/blob/updocs/BepuPhysics/CollisionDetection/RayBatchers.cs/#L114" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
